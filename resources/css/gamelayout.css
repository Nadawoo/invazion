/*
 * Cette CSS définit la disposition des blocs composant la page du jeu
 * (carte, pavé de déplacement, contôle de zone...)
 */

/* Encadrés à droite de la carte (conrôle de zone, actions...) */
fieldset {
    margin-top:0.5em;
    padding-top:0;
}
legend {
    font-weight:bold;
    font-variant:small-caps;
}

/* Bloc contenant la carte et les blocs d'action (nombre de zombies, sac...) */
#game_container {
    position:relative;
    width:100%;
    
    /* Au cas où l'enceinte de la ville descendrait trop bas
      (notamment si liste des chantiers trop longue)
       Désactivé pour le moment car cache les infobulles en haut de la carte */
    /*overflow:auto; */
}

/* La barre de connexion en haut de la page */
#connectionbar {
    text-align:center;
    border-top:1px solid grey;
    border-bottom:1px solid grey;
}
#connectionbar .button {
    display:inline-block;
    padding: 0.1em 0.4em;
    border-radius:1em;
    margin:auto 0.2em;
    background-color:navy;
    color:white;
    font-size:120%;
    font-weight:bold;
    font-variant:small-caps;
    border:2px solid white;
}
#connectionbar .button:hover {
    border:2px solid red;
}
#connectionbar .button:focus {
    outline:none;
}
#connectionbar form {
    display:inline;
    margin-left:1em;
}

/* Bar at the top of the map, containing the map number, the notifications button, etc. */
#gamebar {
    display:flex;
    flex-direction:row;
    justify-content:space-between;
    align-items:center;
    margin-bottom:0.3em;
    /* To be sure that the width of the child block will be relative 
       to the width of #notif and not the width of the browser window */
    position:relative;
}
#gamebar #Outside {
    color:darkblue;
    font-size:1.2em;
    font-weight:bold;
}
#gamebar #notifsButton {
    margin-top:0.2em;
    padding:0.1em 0.4em;
    border:1px solid darkred;
    border-radius:2em;
}
#gamebar #notifsButton ::selection {
    background:none;
}
#notifsBlock {
    display:none;
    position:absolute;
    left:25%;
    right:25%;
    width:50%;
    z-index:10;
    margin-top:-0.3em;
    padding:0 0.5em;
    background:#fbeee6;
    border:4px solid darkred;
    border-radius:0.3em;
    box-shadow: 0px 5px 20px black;
}
#notifsBlock #notifsClose {
    display:block;
    position:absolute;
    right:-1.4rem;
    top:  -1.4rem;
    text-align:center;
    font-size:1.3em;
    line-height:2.2rem;
    height:     2.2rem;
    width:      2.2rem;
    background:darkred;
    border-radius:2em;
    color:white;
}
#notifsBlock .notif {
    display:block;
    padding:0.7em 0 0.9em 0;
    border-bottom:1px solid #212f3d;
    color:#566573;
    font-size:0.9em;
    word-wrap:break-word;
}
#notifsBlock .notif:hover {
    background:ivory;
}
.notif .extract {
    margin:0.5em 0 0 1.5em;
    color:grey 
}
.notif .date {
    margin-top:0.8em;
    text-align:right;
    color:grey;
    font-size:0.7em;
}


/* Bloc invitant à se connecter ou à créer son 1er citoyen à droite de la carte */
#identification_near_map {
    height:18em;
    margin-bottom:2rem;;
    box-shadow: 0px 15px 20px black;
    color:white;
    text-align:center;
    overflow:hidden;
    border-radius:0.5rem;
    background: linear-gradient(to bottom right, #3f51b5 30%, #17202a );
    position:relative;
    z-index:4;
}
#identification_near_map #register {
    display:block;
    width:9em;
    margin:2rem auto 2rem auto;
    padding:0.2em 0.5em;
    border-radius:1rem;
    border:1px solid white;
    background:ivory;
    font-size:1.3em;
    font-weight:bold;
}
#identification_near_map #connect {
    color:#cd6155;
    font-size:1.2em;
}
#identification_near_map #register:hover {
    background:darkred;
    color:ivory;
}
#identification_near_map #connect:hover {
    color:red;
}
/* Choix du métier du citoyen */
#specialities {
    display:none;
    text-align:left;
    margin-left:auto;
    margin-right:auto;
    max-width:30em;
}

/* Barre des états au dessus de la carte */
#citizen_caracs {
    margin-bottom:1.5em;
    padding-bottom:0.4em;
    text-align:center;
}
.hl_carac {
    font-weight:bold;
    font-size:110%;
    color:green;
}

/* Boutons de déplacement du joueur */
#movement_paddle {
    margin:2em auto 0em auto;
    border-collapse: collapse;
    text-align:center;
    background-image:url("../img/hexagon.png");
    background-repeat:no-repeat;
    background-size:3em;
    background-position: center;
}
#movement_paddle td {
    padding:0;
    border:none;
    /* Assure un écartement symétrique des flèches */
    width:2em;
    height:2.5em;
    box-sizing:border-box;
}
#movement_paddle input {
    min-width:0;
    padding:0;
    font-size:1.8em;
    color:darkred;
    background:none;
    border:none;
}
#movement_paddle input:hover {
    color:red;
}
/* L'hexagone central entre les flèches */
#movement_paddle #central {
    cursor:default;
}
/* Message under the movement paddle */
#message_move {
    height:7rem;
    text-align:center;
}
/* Actions at the right of the map */
#actions fieldset {
    display:none;
}

/* Affiche les objets dans le sac et au sol en bas de la carte */
#bag_panel,
#ground_panel {
    position:fixed;
    bottom:0;
    background:#566573;
    padding:0 0 0 0.5em;
    height:10em;
    width:14em;
    border:1px solid white;
    color:white;
    font-size:95%;
    z-index:3;
}
/* NB : don't use the native <legend> tag here. It's very difficult to position correctly */
#bag_panel .legend,
#ground_panel .legend {
    opacity:1;
    max-width:9em;
    height:2em;
    margin-top:-2.05em;
    padding:0;
    background:darkred;
    border:1px solid white;
    border-bottom:none;
    border-radius:0.4em 0.4em 0 0;
    color:white;
    font-weight:bold;
    font-variant:small-caps;
    cursor:pointer;
}
#bag_panel .legend:hover,
#ground_panel .legend:hover {
    opacity:1;
}
#bag_panel .icon,
#ground_panel .icon {
    display:inline-block;
    height:100%;
    width:1.5em;
    text-align:center;
    background:ivory;
}
#bag_panel var,
#ground_panel var {
    color:black;
}
.inactive_tab { /* Onglet en arrière-plan */
    z-index:1 !important;
    opacity:0.6;
}
.active_tab { /* Onglet actif au premier plan */
    z-index:3 !important;
    opacity:1 !important;
}

/* Sac à dos du joueur */
#bag_panel {
    margin-left:-1em;
    border-top-left-radius:0.5em;
}
#bag_panel .legend {
    margin-left:0.5em;
}
#bag_panel .icon {
    border-top-left-radius:0.4em;
}
.empty_slot {
    background:none;
    border:1px solid grey;
    text-align:center;
    color:grey;
    margin-left:2em;
}

/* Panneau listant les objets au sol en bas de la carte */
#ground_panel {
    margin-left:11.8em;
    border-top-right-radius:0.5em;
    text-align:right;
    /* Check in _Chrome_ that the vertical scrollbar fits in the block ! */
    width:15em;
}
#ground_panel .legend {
    margin-left:4.8em;
}
#groundpanel .icon {
    border-top-right-radius:0.4em;
}
#ground_panel form {
    /* The height must be defined for the vertical overflow to work */
    height:100%;
    overflow-y:auto;
    /* Works only in Firefox. For Chrome, see below */
    scrollbar-width:thin;
}
/* Thin scrollbar for Chrome only */
#ground_panel form::-webkit-scrollbar {
  width: 0.5em;
}
#ground_panel form::-webkit-scrollbar-thumb {
    background: #8c9298; /* Color of the scrollbar background */
}
#ground_panel form::-webkit-scrollbar-track {
    background: #424d57; /* Color of the scrollbar button */
}
#ground_panel form::-webkit-scrollbar-thumb:hover {
  background: grey;
}

/* Listes d'objets */
.items_list {
    text-align:left;
    padding-left:0;
    list-style-type:none;
}
.city_block .items_list {
    margin:0;
}

/* Etiquette pour un nom d'objet */
var {
    display:inline-block;
    width:11em;
    font-size:0.9em;
    margin: 0.1em;
    padding:0 0.3em;
    background:lightgrey;
    font-style:normal;
    border-radius:0.3em;
    white-space:nowrap;
    box-sizing: border-box;
}

/*
 * Bloc "Utiliser un objet de mon sac"
 */
#actions_bag {
    margin-top:0.5em;
    padding:0.2em 0.1em;
    background:lightsteelblue;
    border-radius:0.5em;
    border:1px solid grey;
    box-shadow:5px 5px 10px black;
}
#actions_bag ul {
    margin:0.2em 0;
    list-style-type:none;
}

/*
 * Boutons
 */
input[type="submit"] {
    cursor:pointer;
}
.redbutton input[type="submit"] {
    height:2em;
    min-width:11em;
    border-radius:2em;
    background:darkred;
    color:white;
    border:1px solid grey;
    box-shadow:3px 3px 5px black;
    font-size:0.9em;
    font-variant:small-caps;
    min-width:11em;
    cursor:pointer;
}
.redbutton input[type="submit"]:hover {
    border-style:inset;
    background:#CC0000;
}

/* Big round action buttons at the right of the map */
#round_actions {
    margin-top:1rem;
    text-align:center;
}
.round_action {
    height:3.5rem;
    width: 3.5rem;
    margin:0.4rem 0.4rem;
    padding:0;
    font-size:1.7em;
    background:#c0392b;
    border:3px outset #f5b7b1;    
    border-radius:3em;
    box-shadow:5px 5px 5px black;
}
.round_action:hover, .active .round_action {
    position:relative;
    left:2px;
    top: 1px;
    box-shadow:2px 2px 4px black;
}
.active .round_action, .active .round_action:hover {
    background:#d6eaf8;
    border:3px inset #808b96;
    left:4px;
    top: 2px;
    box-shadow:1px 1px 3px black;
}
#round_actions label {
    display:block;
    border-radius:0.3em;
    background:grey;
    font-size:0.9em;
    color:white;
}
#round_actions .active label {
    background:#34495e;
}

/* Pour afficher les boutons de formulaire comme des liens */
.as_link {
    text-align:left;
    border:none;
    background:none;
    padding:0;
    color:darkred;
    font-family:sans-serif;
    font-variant:small-caps;
    font-weight:bold;
    font-size:0.95em;
}
/* Bouton de dépôt d'objet avec un aspect moderne et non le défaut HTML en relief */
.drop_button {
    background:lightsteelblue;
    border:none;
    vertical-align:middle;
    height:1.3em;
    width: 1.3em;
    line-height:1em;
    padding:0;
    border-radius:30%;
    font-size:1.1em;
}
.drop_button:hover {
    background:darkred;
    color:white;
}
/* Boutons de formulaire caché simulant un lien (notamment pour appeler l'API) */
.formlink {
    display:inline;
}
.formlink input {
    min-width:0;
    background:none;
    border:none;
    padding:0;
    color:darkred;
    font-size:1em;
    font-variant:normal;
}
.formlink input:hover {
    color:red;
}


/*
 * Bloc rouge indiquant que le joueur est bloqué par les zombies
 */
#alert_control {
    width:62%;
    border:2px outset black;
    text-align:center;
    background:#a93226;
    animation: fadein 2.8s;
}
#alert_control .title {
    padding:0.3em 0;
    background:#940a0a;
    color:white;
    font-weight:bold;
}
#alert_control .text {
    padding:0.8em 0 0.1em 0;
    font-size:0.9em;
    color:#fbeee6;
}

@keyframes fadein {
    0%   { opacity: 0;   }
    100% { opacity: 1;   }
}

/*
 * Etiquette pour nom d'utilisateur (icône + pseudo sur fond coloré)
 */
.userlabel {
    display:inline-block;
    height:1.4em;
    margin:0.1em 0;
    padding-right:0.8em;
    width:8em;
    white-space:nowrap;
    border:1px solid green;
    border-radius:1em;
    background:green;
    color:white;
}
.userlabel .avatar {
    display:inline-block;
    height:1.4em; /* Height and width must be equal to the height of .userlabel */
    width: 1.4em;
    border-radius:1em;
    text-align:center;
    background:lightgreen;
} 

/* Message d'erreur, ex : "Vous n'avez plus assez de PA"
   Important : utiliser les alias retournés par les API 
   (info, warning, critical) */
.critical {
    background:red;
    color:white;
}
.warning {
    background: #7d3c98 ;
    color:white;
}
.info {
    background:green;
    color:white;
}


/*
 * Responsive design for all CSS
 */
@media (max-width:700px) {
    .box{
        width: 80%;
    }
    .popup{
        width: 80%;
    }
    #map {
        width:50%;
        margin-right:0.2em;
    }
    /* Actions à droite de la carte */
    fieldset {
        padding:0 0.5em 0.5em 0.5em;
    }
}

@media (max-width:575px) {
    /* Met en colonne les blocs à l'intérieur de la ville */
    .city_row {
        flex-direction:column;
        align-items:center;
    }
    /* Elargit la liste de notifications */
    #notifsBlock {
        width:80%;
        left:1.5em;
    }
}
